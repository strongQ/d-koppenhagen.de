<!DOCTYPE html><html lang="de"><head><meta name="generator" content="Scully 0.0.90"><script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-154898970-1"></script>
    <base href="/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" href="assets/images/favicon.png">

    <!-- Apple PWA Support -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="assets/icons/icon-512x512.png">
    <link href="assets/icons/iphone5_splash.png" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
    <link href="assets/icons/iphone6_splash.png" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
    <link href="assets/icons/iphoneplus_splash.png" media="(device-width: 621px) and (device-height: 1104px) and (-webkit-device-pixel-ratio: 3)" rel="apple-touch-startup-image">
    <link href="assets/icons/iphonex_splash.png" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)" rel="apple-touch-startup-image">
    <link href="assets/icons/iphonexr_splash.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
    <link href="assets/icons/iphonexsmax_splash.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3)" rel="apple-touch-startup-image">
    <link href="assets/icons/ipad_splash.png" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
    <link href="assets/icons/ipadpro1_splash.png" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
    <link href="assets/icons/ipadpro3_splash.png" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
    <link href="assets/icons/ipadpro2_splash.png" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
        
    <!-- Basic Site Information -->
    <title>D-Koppenhagen.de | Dig deeper into static site generation with Scully and use the most out of it</title>
    
    <meta name="robots" content="index, follow">
    <meta name="author" content="Danny Koppenhagen">

    <!-- Twitter Card -->
    
    
    
    
    

    <!-- Open Graph Profile -->
    
    
    
    
    <meta property="profile:first_name" content="Danny">
    <meta property="profile:last_name" content="Koppenhagen">
    <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#1976d2">
<link rel="stylesheet" href="styles.a8b8d4b922fab637a8fe.css"><style></style><style>.menu-dark[_ngcontent-nbo-c22]{filter:alpha(opacity=90)}.menu-dark[_ngcontent-nbo-c22] > button[_ngcontent-nbo-c22]{color:#fdfdfd;background-color:#2e3141;opacity:.9;margin:0 1px}.menu-dark[_ngcontent-nbo-c22] > button[_ngcontent-nbo-c22]:focus, .menu-dark[_ngcontent-nbo-c22] > button[_ngcontent-nbo-c22]:hover{outline:none;background-color:#43485f;box-shadow:inset 0 0 0 2px #5e7959}.menu-dark[_ngcontent-nbo-c22]:focus{outline:none}.menu-dark[_ngcontent-nbo-c22]:focus > button[_ngcontent-nbo-c22]{box-shadow:inset 0 0 0 2px #ada789}@media screen and (max-width:480px){.hidden-small[_ngcontent-nbo-c22]{visibility:hidden}}</style><style>.header-title[_ngcontent-nbo-c23]{background-image:url(/assets/images/bg-triangles.jpg);background-size:cover;font-size:3.2em;font-family:Montserrat,sans-serif;line-height:1.1;font-weight:700;margin-bottom:.2em;-webkit-background-clip:text;background-clip:text;color:rgba(0,0,0,.29)}p.sub-header[_ngcontent-nbo-c23]{color:#2e3141;font-size:1.2em}#banner[_ngcontent-nbo-c23]{background-image:url(/assets/images/dk-header.jpg);background-repeat:no-repeat;background-position:100%;background-size:contain;background-color:#fdfdfd;padding:9em 0 12em;cursor:pointer;-webkit-animation:headerFadeIn 3s;animation:headerFadeIn 3s}@-webkit-keyframes headerFadeIn{0%{opacity:0}to{opacity:1}}@keyframes headerFadeIn{0%{opacity:0}to{opacity:1}}#logo[_ngcontent-nbo-c23]{position:absolute;top:0;width:70px;-webkit-animation:move-to-top 1s ease,rotate 4s ease 1;animation:move-to-top 1s ease,rotate 4s ease 1;cursor:pointer}@-webkit-keyframes rotate{to{transform:rotatey(1turn)}}@keyframes rotate{to{transform:rotatey(1turn)}}@-webkit-keyframes move-to-top{0%{top:100px}to{top:0}}@keyframes move-to-top{0%{top:100px}to{top:0}}@media screen and (max-width:1150px){#banner[_ngcontent-nbo-c23]{background-position:right -200px top}}@media screen and (max-width:980px){#banner[_ngcontent-nbo-c23]{background-size:contain;padding:6em 0 10em;background-position:right -200px top}}@media screen and (max-width:800px){.header-title[_ngcontent-nbo-c23]{font-size:2.6em}}@media screen and (max-width:736px){p.sub-header[_ngcontent-nbo-c23]{font-size:1em!important;padding-right:110px}#banner[_ngcontent-nbo-c23]{padding:6em 0 5em}}@media screen and (max-width:620px){.header-title[_ngcontent-nbo-c23]{font-size:2.3em;padding-right:40vw}#banner[_ngcontent-nbo-c23]{background-size:cover;background-position:right -180px top}}@media screen and (max-width:560px){.header-title[_ngcontent-nbo-c23]{font-size:1.7em;padding-right:50vw}}@media screen and (max-width:400px){.header-title[_ngcontent-nbo-c23]{background-image:unset;background-color:#2e3141;opacity:.8;font-size:1.7em;padding-right:50vw}}</style><style>@media screen and (min-width:736px){ul.contact[_ngcontent-nbo-c24]{-moz-columns:2;column-count:2;width:100%!important}}</style><style>#cookie-banner[_ngcontent-nbo-c25]{opacity:.9;z-index:10000;position:fixed;bottom:0;width:100%;display:flex;justify-content:space-between;align-items:baseline;background-color:#5e7959}#cookie-banner[_ngcontent-nbo-c25]   .banner-text[_ngcontent-nbo-c25], #cookie-banner[_ngcontent-nbo-c25]   button[_ngcontent-nbo-c25]{margin:15px}@media screen and (max-width:480px){button.small[_ngcontent-nbo-c25]{padding:0 8px!important}}</style><script charset="utf-8" src="common-es2015.433da69aebbff245b7d3.js"></script><script charset="utf-8" src="6-es2015.1735566d290bf8ef1b4c.js"></script><style>.wrapper[_ngcontent-nbo-c27]{margin-top:0}h1[_ngcontent-nbo-c27]{font-size:1.4em}h2.sub-heading[_ngcontent-nbo-c27]{font-size:.9em}.extra-info[_ngcontent-nbo-c27]{display:flex;flex-direction:row;justify-content:space-between}.edit-on-github[_ngcontent-nbo-c27], .external-links[_ngcontent-nbo-c27], .published-at[_ngcontent-nbo-c27]{margin:30px 0}.published-at[_ngcontent-nbo-c27]{height:50px;display:flex;align-items:center;line-height:1.2em}.published-at[_ngcontent-nbo-c27]   .published-at-link[_ngcontent-nbo-c27]{text-decoration:none;border:none;min-width:120px}.published-at[_ngcontent-nbo-c27]   .published-at-link[_ngcontent-nbo-c27]   .published-at-logo[_ngcontent-nbo-c27]{padding-right:20px}.share-toolbar[_ngcontent-nbo-c27]{list-style:none;height:40px;padding:0}.share-toolbar[_ngcontent-nbo-c27] > li[_ngcontent-nbo-c27]{float:left}.share-toolbar[_ngcontent-nbo-c27] > li[_ngcontent-nbo-c27] > a[_ngcontent-nbo-c27]{display:block;cursor:pointer;border-bottom:0;outline:none}.share-toolbar[_ngcontent-nbo-c27] > li[_ngcontent-nbo-c27] > a[_ngcontent-nbo-c27] > i[_ngcontent-nbo-c27]{padding:10px;color:#fdfdfd;min-width:38px;border-radius:50px;background:#2e3141;box-shadow:4px 4px 9px #262936,-4px -4px 9px #36394c}.share-toolbar[_ngcontent-nbo-c27] > li[_ngcontent-nbo-c27] > a[_ngcontent-nbo-c27]   i.fa-facebook[_ngcontent-nbo-c27]:before{margin-left:2px}.share-toolbar[_ngcontent-nbo-c27] > li[_ngcontent-nbo-c27] > a[_ngcontent-nbo-c27]:focus > i[_ngcontent-nbo-c27], .share-toolbar[_ngcontent-nbo-c27] > li[_ngcontent-nbo-c27] > a[_ngcontent-nbo-c27]:hover > i[_ngcontent-nbo-c27]{box-shadow:0 0 12px #5e7959;color:#fdfdfd}@media screen and (max-width:560px){.blog-footer[_ngcontent-nbo-c27]{position:fixed;bottom:0;left:0;width:100%;background:#2e3141;opacity:.9;z-index:1;padding:0 35px}.blog-footer[_ngcontent-nbo-c27] > h3[_ngcontent-nbo-c27]{display:none}.blog-footer[_ngcontent-nbo-c27] > ul[_ngcontent-nbo-c27]{margin:10px 0;display:flex;justify-content:space-between}.blog-footer[_ngcontent-nbo-c27] > ul[_ngcontent-nbo-c27] > li[_ngcontent-nbo-c27]{padding-left:0}}@media screen and (max-width:360px){.blog-footer[_ngcontent-nbo-c27]{padding:0 24px}}[_ngcontent-nbo-c27]::slotted(h1){color:#330625;background-color:#f8d3ec;padding:5px;border-radius:5px;font-size:1.4em;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}</style><meta name="description" content="In this article about Scully, I will introduce some more advanced features. You will learn how you can setup a custom Markdown module and how you can use AsciiDoc with Scully. I will guide you through the process of how to handle protected routes using a custom route plugin."><link rel="canonical" href="http://localhost:1864/blog/2020-03-dig-deeper-into-scully-ssg"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@d_koppenhagen"><meta name="twitter:creator" content="@d_koppenhagen"><meta name="twitter:title" content="Dig deeper into static site generation with Scully and use the most out of it"><meta name="twitter:description" content="In this article about Scully, I will introduce some more advanced features. You will learn how you can setup a custom Markdown module and how you can use AsciiDoc with Scully. I will guide you through the process of how to handle protected routes using a custom route plugin."><meta name="twitter:image" content="https://d-koppenhagen.de/assets/images/blog/scully/scully-header2.jpg"><meta property="og:title" content="Dig deeper into static site generation with Scully and use the most out of it"><meta property="og:description" content="In this article about Scully, I will introduce some more advanced features. You will learn how you can setup a custom Markdown module and how you can use AsciiDoc with Scully. I will guide you through the process of how to handle protected routes using a custom route plugin."><meta name="og:image" content="https://d-koppenhagen.de/assets/images/blog/scully/scully-header2.jpg"><meta name="og:url" content="https://d-koppenhagen.de/blog/2020-03-dig-deeper-into-scully-ssg"><style>
      :host {
        display: none;
      }
      scully-content {
        display: none;
      }
    </style><script>window['ScullyIO']='generated';</script></head>
  <body role="main" id="page-wrapper" scully-version="0.0.90">
    <!-- Angular -->
    <dk-root _nghost-nbo-c26="" class="ng-tns-c26-0" ng-version="9.0.7"><dk-navbar _ngcontent-nbo-c26="" class="ng-tns-c26-0" _nghost-nbo-c22=""><nav _ngcontent-nbo-c22="" id="navigation" role="navigation" tabindex="0" class="menu-dark ng-star-inserted"><button _ngcontent-nbo-c22="" role="button" aria-expanded="false" class="burger-menu" aria-label="Open menu"><span _ngcontent-nbo-c22="" class="hidden-small">Menu</span></button><button _ngcontent-nbo-c22="" aria-label="Switch Language"> EN </button></nav><!----><!----><!----></dk-navbar><dk-header _ngcontent-nbo-c26="" class="ng-tns-c26-0" _nghost-nbo-c23=""><section _ngcontent-nbo-c23="" id="banner" routerlink="/" tabindex="0" class="ng-star-inserted"><div _ngcontent-nbo-c23="" class="inner"><img _ngcontent-nbo-c23="" routerlink="/" src="assets/images/logo_header.png" id="logo" tabindex="0" alt="Logo"><h1 _ngcontent-nbo-c23="" class="header-title"> Hello,<br _ngcontent-nbo-c23="">I am  Danny<br _ngcontent-nbo-c23="">Koppenhagen </h1><p _ngcontent-nbo-c23="" class="sub-header">Developer, IT Consultant, Author</p></div></section><!----><!----></dk-header><router-outlet _ngcontent-nbo-c26="" class="ng-tns-c26-0"></router-outlet><dk-blog-content _nghost-nbo-c27="" class="ng-star-inserted">
  <div _ngcontent-nbo-c27="" class="wrapper alt ng-star-inserted">
    <div _ngcontent-nbo-c27="" class="inner ng-star-inserted">
      <section _ngcontent-nbo-c27="" class="blog-header">
        <span _ngcontent-nbo-c27="" class="image fit ng-star-inserted">
          <img _ngcontent-nbo-c27="" src="assets/images/blog/scully/scully-header2.jpg" alt="Blog-Post title image">
        </span><!---->
      </section>
      <section _ngcontent-nbo-c27="" class="extra-section ng-star-inserted">
        <div _ngcontent-nbo-c27="" class="extra-info">
          <h2 _ngcontent-nbo-c27="" class="sub-heading">Keywords</h2>
          <h2 _ngcontent-nbo-c27="" class="sub-heading ng-star-inserted">
            Last update: 02.05.2020
          </h2><!---->
        </div>
        <div _ngcontent-nbo-c27="" class="actions">
          <span _ngcontent-nbo-c27="" class="ng-star-inserted">
            <button _ngcontent-nbo-c27="" routerlink="/blog" class="button xs" tabindex="0" aria-label="Filter for keyword: Angular">
              Angular
            </button>
          </span><span _ngcontent-nbo-c27="" class="ng-star-inserted">
            <button _ngcontent-nbo-c27="" routerlink="/blog" class="button xs" tabindex="0" aria-label="Filter for keyword: Angular CLI">
              Angular CLI
            </button>
          </span><span _ngcontent-nbo-c27="" class="ng-star-inserted">
            <button _ngcontent-nbo-c27="" routerlink="/blog" class="button xs" tabindex="0" aria-label="Filter for keyword: Angular Schematics">
              Angular Schematics
            </button>
          </span><span _ngcontent-nbo-c27="" class="ng-star-inserted">
            <button _ngcontent-nbo-c27="" routerlink="/blog" class="button xs" tabindex="0" aria-label="Filter for keyword: Scully">
              Scully
            </button>
          </span><span _ngcontent-nbo-c27="" class="ng-star-inserted">
            <button _ngcontent-nbo-c27="" routerlink="/blog" class="button xs" tabindex="0" aria-label="Filter for keyword: SSR">
              SSR
            </button>
          </span><span _ngcontent-nbo-c27="" class="ng-star-inserted">
            <button _ngcontent-nbo-c27="" routerlink="/blog" class="button xs" tabindex="0" aria-label="Filter for keyword: SSG">
              SSG
            </button>
          </span><span _ngcontent-nbo-c27="" class="ng-star-inserted">
            <button _ngcontent-nbo-c27="" routerlink="/blog" class="button xs" tabindex="0" aria-label="Filter for keyword: Server-Side Rendering">
              Server-Side Rendering
            </button>
          </span><span _ngcontent-nbo-c27="" class="ng-star-inserted">
            <button _ngcontent-nbo-c27="" routerlink="/blog" class="button xs" tabindex="0" aria-label="Filter for keyword: Static Site Generator">
              Static Site Generator
            </button>
          </span><span _ngcontent-nbo-c27="" class="ng-star-inserted">
            <button _ngcontent-nbo-c27="" routerlink="/blog" class="button xs" tabindex="0" aria-label="Filter for keyword: Pre-rendering">
              Pre-rendering
            </button>
          </span><span _ngcontent-nbo-c27="" class="ng-star-inserted">
            <button _ngcontent-nbo-c27="" routerlink="/blog" class="button xs" tabindex="0" aria-label="Filter for keyword: JAM Stack">
              JAM Stack
            </button>
          </span><!---->
        </div>
        <!---->
      </section><!---->
      <section _ngcontent-nbo-c27="" class="external-links">
        <a _ngcontent-nbo-c27="" href="https://dev.to/dkoppenhagen/dig-deeper-into-static-site-generation-with-scully-and-use-the-most-out-of-it-4cn5" class="ng-star-inserted">Read this article on Dev.to</a><!---->
      </section>
      <section _ngcontent-nbo-c27="" class="blog-content">
        <!--scullyContent-begin--><h1 id="dig-deeper-into-static-site-generation-with-scully-and-use-the-most-out-of-it" _ngcontent-nbo-c27="">Dig deeper into static site generation with <em _ngcontent-nbo-c27="">Scully</em> and use the most out of it</h1>
<p _ngcontent-nbo-c27=""><strong _ngcontent-nbo-c27="">If you haven't heard about <em _ngcontent-nbo-c27="">Scully</em> yet, you should first check out my introduction article about it: <em _ngcontent-nbo-c27=""><a href="/blog/2020-01-angular-scully" _ngcontent-nbo-c27="">»Create powerful fast pre-rendered Angular Apps using Scully static site generator«</a></em>.</strong></p>
<p _ngcontent-nbo-c27="">In my <a href="/blog/2020-01-angular-scully" _ngcontent-nbo-c27="">last blog post</a> I gave you a short introduction to <em _ngcontent-nbo-c27="">Scully</em> and how to easily set up a very simple blogging website that is server-side rendered and ready to be shipped for production.
In the following article I will introduce some more advanced things you can do with <em _ngcontent-nbo-c27="">Scully</em>.
You will learn how you can setup a custom Markdown module or even use Asciidoc instead of Markdown.
I will guide you through the process of how to handle protected routes using a custom route plugin.</p>
<hr _ngcontent-nbo-c27="">

<div id="toc" _ngcontent-nbo-c27=""><h2 _ngcontent-nbo-c27="">Table of contents</h2><ul><li><a href="/blog/2020-03-dig-deeper-into-scully-ssg#generate-a-post-with-a-meta-data-template">Generate a post with a meta data template</a></li><li><a href="/blog/2020-03-dig-deeper-into-scully-ssg#generate-a-custom-markdown-module">Generate a custom Markdown module</a></li><li><a href="/blog/2020-03-dig-deeper-into-scully-ssg#the-asciidoc-file-handler-plugin">The AsciiDoc File Handler Plugin</a></li><li><a href="/blog/2020-03-dig-deeper-into-scully-ssg#protect-your-routes-with-a-custom-plugin">Protect your routes with a custom plugin</a></li><li><a href="/blog/2020-03-dig-deeper-into-scully-ssg#conclusion">Conclusion</a></li></ul></div>

<hr _ngcontent-nbo-c27="">

<blockquote _ngcontent-nbo-c27="">
<p _ngcontent-nbo-c27="">This blog post is based on versions:</p>
<pre _ngcontent-nbo-c27=""><code _ngcontent-nbo-c27="">@scullyio/ng-lib: 0.0.22
@scullyio/init: 0.0.26
@scullyio/scully: 0.0.90</code></pre><p _ngcontent-nbo-c27="">However some of the commands or API calls used here may change in the future.
It’s my goal to keep this blog post as up-to-date as possible.</p>
</blockquote>
<hr _ngcontent-nbo-c27="">

<h2 id="generate-a-post-with-a-meta-data-template" _ngcontent-nbo-c27="">Generate a post with a meta data template</h2>
<p _ngcontent-nbo-c27="">As we already created our blogging site using <em _ngcontent-nbo-c27="">Scully</em>, we want to fill it with content now.
We already learned how we can use the <code _ngcontent-nbo-c27="">@scullyio/init:post</code> schematic to easily generate a new blog post.
Often posts do not only need the content, but also some meta information like <code _ngcontent-nbo-c27="">thumbnail</code> or <code _ngcontent-nbo-c27="">author</code>.
This meta information can be processed by the <code _ngcontent-nbo-c27="">ScullyRouteService</code> and it will be converted to JSON.
It can be quite handy to always remember to add such information right after creating a new post.
To make things easier we can specify a YAML template file with the meta information that will always be added when creating a new blog post using the schematic, like the following one:</p>
<pre _ngcontent-nbo-c27=""><code class="language-yaml" _ngcontent-nbo-c27="">description: &lt;fill in a short description for the overview page&gt;
published: false
author: Danny Koppenhagen
mail: mail@d-koppenhagen.de
updated: dd.mm.yyyy
keywords:
  - Angular
language: en
thumbnail: assets/images/default.jpg</code></pre>
<p _ngcontent-nbo-c27="">We can use the template when calling the <code _ngcontent-nbo-c27="">@scullyio/init:post</code> schematic:</p>
<pre _ngcontent-nbo-c27=""><code class="language-bash" _ngcontent-nbo-c27="">ng g @scullyio/init:post --name="a new post" --meta-data-file=meta.yml</code></pre>
<p _ngcontent-nbo-c27="">When we check our <code _ngcontent-nbo-c27="">blog</code> directory now we will see that the schematic added our YAML template to the meta data section of the newly created post file <code _ngcontent-nbo-c27="">a-new-post.md</code>.</p>
<blockquote _ngcontent-nbo-c27="">
<p _ngcontent-nbo-c27="">If you have trouble remembering to add the <code _ngcontent-nbo-c27="">meta-data-file</code> option, just add a script to your <code _ngcontent-nbo-c27="">package.json</code> without the <code _ngcontent-nbo-c27="">name</code> option.
When you call the script using <code _ngcontent-nbo-c27="">npm run &lt;script-name&gt;</code> you will be prompted to input the file name.</p>
</blockquote>
<h2 id="generate-a-custom-markdown-module" _ngcontent-nbo-c27="">Generate a custom Markdown module</h2>
<p _ngcontent-nbo-c27="">Let's assume we want to add another module to our blogging website.
We want to have a <code _ngcontent-nbo-c27="">projects</code> section in our site that lists some information about current projects we are working on.
Like for our <code _ngcontent-nbo-c27="">blog</code> section, we want to easily write our content using Markdown.
To do so, we can use the <code _ngcontent-nbo-c27="">@scullyio/init:markdown</code> schematic:</p>
<pre _ngcontent-nbo-c27=""><code class="language-bash" _ngcontent-nbo-c27="">ng g @scullyio/init:markdown --name=projects --slug=projectId --sourceDir=projects --route=projects</code></pre>
<p _ngcontent-nbo-c27="">Let's have a look at the options we set:</p>
<ul _ngcontent-nbo-c27="">
<li _ngcontent-nbo-c27=""><code _ngcontent-nbo-c27="">name</code>: This is the base name for the generated Angular module that <em _ngcontent-nbo-c27="">Scully</em> created for us.</li>
<li _ngcontent-nbo-c27=""><code _ngcontent-nbo-c27="">slug</code>: Here we define the placeholder name for the URL that will be filled with the basename of the Markdown files.</li>
<li _ngcontent-nbo-c27=""><code _ngcontent-nbo-c27="">sourceDir</code>: That's where we will store our Markdown files whose content is rendered by the <em _ngcontent-nbo-c27="">Scully</em> Markdown file plugin.</li>
<li _ngcontent-nbo-c27=""><code _ngcontent-nbo-c27="">route</code>: This is the name for the route before the <code _ngcontent-nbo-c27="">:slug</code> in the URLs where we can see our rendered content later.</li>
</ul>
<blockquote _ngcontent-nbo-c27="">
<p _ngcontent-nbo-c27="">Good to know: Under the hood the <code _ngcontent-nbo-c27="">@scullyio/init:blog</code> schematic just calls <code _ngcontent-nbo-c27="">@scullyio/init:markdown</code> with default options set. So in fact it's just a shortcut.</p>
</blockquote>
<p _ngcontent-nbo-c27="">The basic things we need for our projects page are now available.
Let's have a look at it and see if it's working:</p>
<pre _ngcontent-nbo-c27=""><code class="language-bash" _ngcontent-nbo-c27="">npm run build                   # Angular build
npm run scully -- --scanRoutes  # generate static build and force checking new routes
npm run scully serve            # serve the scully results</code></pre>
<p _ngcontent-nbo-c27=""><img src="/assets/images/blog/scully/scully-markdown-projects.png" alt="the initial projects post generated with the Markdown schematic" _ngcontent-nbo-c27=""></p>
<h2 id="the-asciidoc-file-handler-plugin" _ngcontent-nbo-c27="">The <code _ngcontent-nbo-c27="">AsciiDoc</code> File Handler Plugin</h2>
<p _ngcontent-nbo-c27=""><em _ngcontent-nbo-c27="">Scully</em> provides another <em _ngcontent-nbo-c27="">File Handler Plugin</em> out-of-the-box: The <em _ngcontent-nbo-c27="">AsciiDoc</em> plugin.
When you want to put the generated post files in a specific directory (not <code _ngcontent-nbo-c27="">blog</code>), you can define this via the <code _ngcontent-nbo-c27="">target</code> option.</p>
<pre _ngcontent-nbo-c27=""><code class="language-bash" _ngcontent-nbo-c27="">ng g @scullyio/init:post --name="asciidoc example" --target=projects</code></pre>
<p _ngcontent-nbo-c27="">The generated file will be a Markdown file initially.
Let's change the file extension, rename it to <code _ngcontent-nbo-c27="">*.adoc</code> and add a bit of content after it has been generated:</p>
<pre _ngcontent-nbo-c27=""><code class="language-adoc" _ngcontent-nbo-c27="">:title: 2020-01-21-projects
:description: blog description
:published: false

= 2020-01-21-projects

Let's show some source code!

.index.html
[#src-listing]
[source,html]
----
&lt;div&gt;
  &lt;span&gt;Hello World!&lt;/span&gt;
&lt;/div&gt;
----</code></pre>
<p _ngcontent-nbo-c27="">And finally we build our project again and see if it works:</p>
<pre _ngcontent-nbo-c27=""><code class="language-bash" _ngcontent-nbo-c27="">npm run build                   # Angular build
npm run scully -- --scanRoutes  # generate static build and force checking new routes
npm run scully serve            # serve the scully results</code></pre>
<p _ngcontent-nbo-c27="">Great, as we can see: AsciiDoc files will be rendered as well out-of-the-box.</p>
<p _ngcontent-nbo-c27=""><img src="/assets/images/blog/scully/scully-asciidoc-projects.png" alt="a scully rendered asciidoc file" _ngcontent-nbo-c27=""></p>
<p _ngcontent-nbo-c27="">You can also define your own File Handler Plugin for other content formats.
Check out the <a href="https://github.com/scullyio/scully/blob/master/docs/plugins.md#file-plugin" _ngcontent-nbo-c27="">official docs</a> for it to see how it works.</p>
<h2 id="protect-your-routes-with-a-custom-plugin" _ngcontent-nbo-c27="">Protect your routes with a custom plugin</h2>
<p _ngcontent-nbo-c27="">Let's assume we have a protected section at our site that should only be visible for specific users.
For sure we can secure this space using an <a href="https://angular.io/guide/router#milestone-5-route-guards" _ngcontent-nbo-c27="">Angular Route Guard</a> that checks if we have the correct permissions to see the pages.</p>
<p _ngcontent-nbo-c27=""><em _ngcontent-nbo-c27="">Scully</em> will by default try to identify all available app routes.
In fact it will also try to visit the protected pages and pre-render the result.
When <em _ngcontent-nbo-c27="">Scully</em> tries to do this, the Angular route guard kicks in and redirects us to an error or login page.
The page shown after the redirect is the page <em _ngcontent-nbo-c27="">Scully</em> will see and render.
This default behaviour is pretty okay, as <em _ngcontent-nbo-c27="">Scully</em> won't expose any protected information by creating static content from the protected data.
However, on the other hand, we don't want to pre-render such pages at all, so we need a way to tell <em _ngcontent-nbo-c27="">Scully</em> what pages to exclude from the rendering.
Another scenario you can imagine is when a page displays a prompt or a confirm dialog.
When <em _ngcontent-nbo-c27="">Scully</em> tries to render such pages it runs into a timeout and cannot render the page:</p>
<pre _ngcontent-nbo-c27=""><code _ngcontent-nbo-c27="">...
Puppeteer error while rendering "/secure" TimeoutError: Navigation timeout of 30000 ms exceeded</code></pre><p _ngcontent-nbo-c27="">To prevent <em _ngcontent-nbo-c27="">Scully</em> from rendering specific pages we can simply create a custom plugin that will skip some routes.</p>
<p _ngcontent-nbo-c27="">To do so, we will create a new directory <code _ngcontent-nbo-c27="">extraPlugin</code> with the file <code _ngcontent-nbo-c27="">skip.js</code> inside:</p>
<pre _ngcontent-nbo-c27=""><code class="language-js" _ngcontent-nbo-c27="">const { registerPlugin } = require('@scullyio/scully');
const { log, yellow } = require('@scullyio/scully/utils/log');

const skipPlugin = async (route, options) =&gt; {
  log(`Skip Route "${yellow(route)}"`);
  return [];
};

registerPlugin('router', 'skip', skipPlugin);</code></pre>
<p _ngcontent-nbo-c27="">We will import the function <code _ngcontent-nbo-c27="">registerPlugin()</code> which will register a new router plugin called <code _ngcontent-nbo-c27="">skip</code>.
The last parameter is the plugin function <code _ngcontent-nbo-c27="">skipPlugin()</code> that will return a promise resolving the routes.
It receives the route and options for the route that should be handled.
We will simply return an empty array as we won't proceed routes handled by the plugin.
We can use the exported <code _ngcontent-nbo-c27="">log()</code> function from <em _ngcontent-nbo-c27="">Scully</em> to log the action in a nice way.</p>
<p _ngcontent-nbo-c27="">Last but not least we will use the <code _ngcontent-nbo-c27="">skip</code> plugin in our <code _ngcontent-nbo-c27="">scully.config.js</code> configuration file and tell the plugin which routes to handle:</p>
<pre _ngcontent-nbo-c27=""><code class="language-js" _ngcontent-nbo-c27="">require('./extraPlugin/skip');

exports.config = {
  // ...
  routes: {
    // ...
    '/secure': { type: 'skip' },
  }
};</code></pre>
<p _ngcontent-nbo-c27="">Checking the plugin by running <code _ngcontent-nbo-c27="">npm run scully</code> will output us the following result:</p>
<pre _ngcontent-nbo-c27=""><code _ngcontent-nbo-c27=""> ☺   new Angular build imported
 ☺   Started servers in background
Finding all routes in application.
...
Skip Route "/secure"
...</code></pre><p _ngcontent-nbo-c27="">Perfect! As you can see the route is ignored by <em _ngcontent-nbo-c27="">Scully</em> now.</p>
<p _ngcontent-nbo-c27="">You can have a look at a more detailed example in my <a href="https://github.com/d-koppenhagen/scully-blog-example/commits" _ngcontent-nbo-c27="">scully-blog-example</a> repository.</p>
<h2 id="conclusion" _ngcontent-nbo-c27="">Conclusion</h2>
<p _ngcontent-nbo-c27="">In this follow-up article you learned how to add a custom Markdown module to <em _ngcontent-nbo-c27="">Scully</em> and how you can use the AsciiDoc plugin for rendering <code _ngcontent-nbo-c27="">adoc</code> files.
What is more, you can now handle protected routes by using a custom <em _ngcontent-nbo-c27="">Scully</em> route plugin.</p>
<p _ngcontent-nbo-c27=""><strong _ngcontent-nbo-c27="">Thank you</strong></p>
<p _ngcontent-nbo-c27="">Special thanks go to <a href="https://twitter.com/jorgeucano" _ngcontent-nbo-c27="">Jorge Cano</a> from the <em _ngcontent-nbo-c27="">Scully</em> core team and <a href="https://twitter.com/fmalcher01" _ngcontent-nbo-c27="">Ferdinand Malcher</a> for revising this article.</p>
<!--scullyContent-end--><script>try {window['scullyContent'] = {cssId:"_ngcontent-nbo-c27",html:document.body.innerHTML.split('<!--scullyContent-begin-->')[1].split('<!--scullyContent-end-->')[0]};} catch(e) {console.error('scully could not parse content');}</script><scully-content _ngcontent-nbo-c27=""></scully-content>
        <div _ngcontent-nbo-c27="" class="edit-on-github">
          <a _ngcontent-nbo-c27="" target="_blank" rel="noopener noreferrer" href="https://github.com/d-koppenhagen/d-koppenhagen.de/edit/master/blog/2020-03-dig-deeper-into-scully-ssg.md">
            Found an error? Edit this page on Github
          </a>
        </div>
      </section>
      <section _ngcontent-nbo-c27="" class="blog-footer">
        <h3 _ngcontent-nbo-c27="">Share this page</h3>
        <ul _ngcontent-nbo-c27="" class="share-toolbar">
          <li _ngcontent-nbo-c27="">
            <a _ngcontent-nbo-c27="" alt="Share this page"><i _ngcontent-nbo-c27="" class="fa fa-share-alt" aria-label="Share Icon"></i>
            </a>
          </li>
          <li _ngcontent-nbo-c27="">
            <a _ngcontent-nbo-c27="" rel="noopener noreferrer" id="shareEmail" href="mailto:?subject=d-koppenhagen.de%20%7C%20Blogpost:%20Dig%20deeper%20into%20static%20site%20generation%20with%20Scully%20and%20use%20the%20most%20out%20of%20it%20%7C%20Danny%20Koppenhagen&amp;body=Dig%20deeper%20into%20static%20site%20generation%20with%20Scully%20and%20use%20the%20most%20out%20of%20it%20%7C%20Danny%20Koppenhagen%0A%0AIn%20this%20article%20about%20Scully,%20I%20will%20introduce%20some%20more%20advanced%20features.%20You%20will%20learn%20how%20you%20can%20setup%20a%20custom%20Markdown%20module%20and%20how%20you%20can%20use%20AsciiDoc%20with%20Scully.%20I%20will%20guide%20you%20through%20the%20process%20of%20how%20to%20handle%20protected%20routes%20using%20a%20custom%20route%20plugin.%0A%0A%3E%20http://localhost:1864/blog/2020-03-dig-deeper-into-scully-ssg%0A%20%20%20%20" alt="Share this page via E-Mail"><i _ngcontent-nbo-c27="" class="fa fa-envelope" aria-label="E-Mail Icon"></i>
            </a>
          </li>
          <li _ngcontent-nbo-c27="">
            <a _ngcontent-nbo-c27="" target="_blank" rel="noopener noreferrer" href="https://twitter.com/intent/tweet?text=Check%20out%20the%20blogpost%20from%20@d_koppenhagen:%20http://localhost:1864/blog/2020-03-dig-deeper-into-scully-ssg" alt="Share this page via Twitter"><i _ngcontent-nbo-c27="" class="fa fa-twitter" aria-label="Twitter Icon"></i>
            </a>
          </li>
          <li _ngcontent-nbo-c27="">
            <a _ngcontent-nbo-c27="" target="_blank" rel="noopener noreferrer" href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:1864/blog/2020-03-dig-deeper-into-scully-ssg" alt="Share this page via Facebook"><i _ngcontent-nbo-c27="" class="fa fa-facebook" aria-label="Facebook Icon"></i>
            </a>
          </li>
          <li _ngcontent-nbo-c27="">
            <a _ngcontent-nbo-c27="" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/sharing/share-offsite/?url=http://localhost:1864/blog/2020-03-dig-deeper-into-scully-ssg" alt="Share this page via LinkedIn"><i _ngcontent-nbo-c27="" class="fa fa-linkedin" aria-label="LinkedIn Icon"></i>
            </a>
          </li>
          <li _ngcontent-nbo-c27="">
            <a _ngcontent-nbo-c27="" target="_blank" rel="noopener noreferrer" href="https://www.xing.com/app/user?op=share;url=http://localhost:1864/blog/2020-03-dig-deeper-into-scully-ssg" alt="Share this page via Xing"><i _ngcontent-nbo-c27="" class="fa fa-xing" aria-label="Xing Icon"></i>
            </a>
          </li>
        </ul>
      </section>
    </div><!---->
  </div>
<!----><!---->
</dk-blog-content><!----><dk-contact _ngcontent-nbo-c26="" class="ng-tns-c26-0" _nghost-nbo-c24=""><section _ngcontent-nbo-c24="" id="footer" class="ng-star-inserted"><div _ngcontent-nbo-c24="" id="contact" class="inner"><h2 _ngcontent-nbo-c24="" class="major">Contact me</h2><p _ngcontent-nbo-c24=""> Any questions or suggestions? Get in contact with me! </p><ul _ngcontent-nbo-c24="" class="contact"><li _ngcontent-nbo-c24="" class="icon solid fa-envelope"><a _ngcontent-nbo-c24="" href="mailto:mail@d-koppenhagen.de">mail@d-koppenhagen.de</a></li><li _ngcontent-nbo-c24="" class="icon solid fa-phone"><a _ngcontent-nbo-c24="" href="tel:+4915129134704">+49 (0)151 29134704</a></li><li _ngcontent-nbo-c24="" class="icon brands fa-github"><a _ngcontent-nbo-c24="" href="https://github.com/d-koppenhagen">github.com/d-koppenhagen</a></li><li _ngcontent-nbo-c24="" class="icon brands fa-twitter"><a _ngcontent-nbo-c24="" href="https://twitter.com/d_koppenhagen">twitter.com/d_koppenhagen</a></li><li _ngcontent-nbo-c24="" class="icon brands fa-linkedin"><a _ngcontent-nbo-c24="" href="https://www.linkedin.com/in/d-koppenhagen/">linkedin.com/in/d-koppenhagen</a></li><li _ngcontent-nbo-c24="" class="icon brands fa-xing"><a _ngcontent-nbo-c24="" href="https://www.xing.com/profile/Danny_Koppenhagen">xing.com/profile/Danny_Koppenhagen</a></li></ul><ul _ngcontent-nbo-c24="" class="copyright"><li _ngcontent-nbo-c24="">© 2020 by Danny Koppenhagen</li><li _ngcontent-nbo-c24="">Design: <a _ngcontent-nbo-c24="" href="https://html5up.net">HTML5 UP</a></li><li _ngcontent-nbo-c24=""> Suggestions? Feedback? Bugs? <a _ngcontent-nbo-c24="" href="https://github.com/d-koppenhagen/d-koppenhagen.de/issues"> Create an issue</a>, <a _ngcontent-nbo-c24="" href="https://github.com/d-koppenhagen/d-koppenhagen.de/pulls">send me a PR</a> or <a _ngcontent-nbo-c24="" href="#contact">contact me</a>. </li></ul></div></section><!----><!----></dk-contact><dk-cookie-banner _ngcontent-nbo-c26="" _nghost-nbo-c25="" class="ng-tns-c26-0 ng-trigger ng-trigger-fadeInOut ng-star-inserted ng-animating"><div _ngcontent-nbo-c25="" id="cookie-banner" class="ng-star-inserted"><span _ngcontent-nbo-c25="" class="banner-text">🍪 This website uses cookies to ensure you get the best experience on the site.</span><button _ngcontent-nbo-c25="" class="button small"> Got it! </button></div><!----></dk-cookie-banner><!----></dk-root>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());
    </script>
    <noscript>Please enable JavaScript to continue using this application.</noscript>
<script id="ScullyIO-transfer-state"></script><script src="runtime-es2015.8b5236a039f449105355.js" type="module"></script><script src="runtime-es5.8b5236a039f449105355.js" nomodule="" defer=""></script><script src="polyfills-es5.89c31f86c1cc53c9c554.js" nomodule="" defer=""></script><script src="polyfills-es2015.8f1c30d524c71abfc9fe.js" type="module"></script><script src="main-es2015.9c6fd268beeeb4b078c8.js" type="module"></script><script src="main-es5.9c6fd268beeeb4b078c8.js" nomodule="" defer=""></script>

</body></html>